"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{2642:function(e,l,a){a.r(l),a.d(l,{default:function(){return T}});var t=a(5893),n=a(7294),s=a(7074),r=a(244),i=a(9807),o=a(7272),d=a(4026),c=a(6777),h=a(3978),u=a(9417),g=a(8377),x=a(2318),j=a(709),p=a(9895),m=a(1749),Z=a(7265),v=a(5445),f=a(6241),C=a(5050),S=a(784),b=a(562),k=a(6480),y=a(1890),w=a(5398),E=a(5343),P=a(8316),A=a(6779),O=a(8656),W=a(594),R=a(754),I=a(4657),U=a(5678);a(4213);let V=(0,s.ZP)(o.Z)(e=>{let{theme:l}=e;return{["&.".concat(d.Z.head)]:{backgroundColor:l.palette.common.black,color:l.palette.common.white},["&.".concat(d.Z.body)]:{fontSize:14}}}),N=(0,s.ZP)(u.Z)(e=>{let{theme:l}=e;return{"&:nth-of-type(odd)":{backgroundColor:l.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}});function T(){let[e,l]=(0,n.useState)(!1),[a,s]=(0,n.useState)(""),[o,d]=(0,n.useState)(!1),[T,B]=(0,n.useState)([]),[H,z]=(0,n.useState)([]),[F,_]=(0,n.useState)(),[G,D]=(0,n.useState)(),[J,q]=(0,n.useState)(),[K,L]=(0,n.useState)(),[M,Q]=(0,n.useState)(),[X,Y]=(0,n.useState)(),[$,ee]=(0,n.useState)(),[el,ea]=(0,n.useState)();(0,n.useEffect)(()=>{JSON.parse(localStorage.getItem("loginUser")),es(),eo()},[]);let et=async e=>{ee(e);let a=localStorage.getItem("accessToken");await O.Z.getUserProfile(e,a).then(e=>{Q(e.data.role.id),Y(e.data.role.title),_(e.data.name),ea(e.data.status),D(e.data.email),L(e.data.phone)}),l(!0)},en=()=>{l(!1)},es=async()=>{d(!0);let e=localStorage.getItem("accessToken");await O.Z.getAllUser(e).then(e=>{B(e.data),d(!1)})},er=async()=>{let e=localStorage.getItem("accessToken");d(!0);let{data:l}=await W.Z.get("http://192.168.168.29:8080/api/user/getusers?search=".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});d(!1),B(l)},ei=async e=>{let l=localStorage.getItem("accessToken");await O.Z.removeUser(e,l).then(e=>{U.Am.success("user delete successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),es()})},eo=async()=>{await O.Z.getAllRole().then(e=>{z(null==e?void 0:e.data)})},ed=async()=>{let e=localStorage.getItem("accessToken");await O.Z.updateprofile($,{name:F,email:G,phone:K,role:M,status:el},e).then(e=>{200===e.status?(U.Am.success(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),es()):U.Am.error(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})};return(0,t.jsxs)("div",{children:[(0,t.jsx)(U.Ix,{}),(0,t.jsx)(g.Z,{sx:{flexGrow:1},children:(0,t.jsx)(C.Z,{position:"static",style:{backgroundColor:"Silver"},children:(0,t.jsxs)(S.Z,{children:[(0,t.jsx)(b.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,t.jsx)(k.Z,{placeholder:"Search by name or email",mr:2,value:a,onChange:e=>s(e.target.value)})}),(0,t.jsx)(x.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:(0,t.jsx)(j.Z,{onClick:er,children:"Go"})}),(0,t.jsx)(I.default,{variant:"contained",children:"Add New User"})]})})}),o?(0,t.jsx)("div",{children:(0,t.jsx)(g.Z,{sx:{position:"relative",display:"inline-flex",padding:"125px"},children:(0,t.jsx)(R.Z,{color:"success"})})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Z,{component:p.Z,style:{marginTop:"10px"},children:(0,t.jsxs)(r.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,t.jsx)(h.Z,{children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(V,{children:"Name"}),(0,t.jsx)(V,{align:"right",children:"Phone"}),(0,t.jsx)(V,{align:"right",children:"Email\xa0"}),(0,t.jsx)(V,{align:"right",children:"Status\xa0"}),(0,t.jsx)(V,{align:"right",children:"Actions\xa0"})]})}),(0,t.jsx)(i.Z,{children:null==T?void 0:T.map(e=>(0,t.jsxs)(N,{children:[(0,t.jsx)(V,{component:"th",scope:"row",children:e.name}),(0,t.jsx)(V,{align:"right",children:e.phone}),(0,t.jsx)(V,{align:"right",children:e.email}),(0,t.jsx)(V,{align:"right",children:e.status}),(0,t.jsxs)(V,{align:"right",children:[(0,t.jsx)(j.Z,{onClick(){ei(e.id)},children:"Remove"})," \xa0\xa0",(0,t.jsx)(j.Z,{onClick(){et(e.id)},children:"Edit"})]})]},e.name))})]})}),(0,t.jsxs)(y.Z,{open:e,onClose:en,children:[(0,t.jsx)(w.Z,{children:(0,t.jsx)(m.Z,{children:(0,t.jsxs)(p.Z,{style:{padding:20,width:300,margin:"0 auto"},children:[(0,t.jsx)(m.Z,{align:"center",children:(0,t.jsx)(Z.Z,{style:{backgroundColor:"#1bbd7e"}})}),(0,t.jsxs)("form",{children:[(0,t.jsxs)(E.Z,{fullWidth:!0,children:[(0,t.jsx)(P.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"Role"}),(0,t.jsxs)(v.Z,{defaultValue:X,onChange(e){Q(e.target.value)},children:[(0,t.jsx)("option",{defaultValue:M,children:X}),null==H?void 0:H.map(e=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("option",{value:null==e?void 0:e.id,children:null==e?void 0:e.title})}))]})]}),(0,t.jsxs)(E.Z,{fullWidth:!0,children:[(0,t.jsx)(P.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"Status"}),(0,t.jsxs)(v.Z,{defaultValue:el,onChange(e){ea(e.target.value)},children:[(0,t.jsx)("option",{defaultValue:el,children:el}),(0,t.jsx)("option",{value:"verified"===el?"unverified":"verified",children:"verified"===el?"unverified":"verified"})]})]}),(0,t.jsx)(f.Z,{fullWidth:!0,label:"Name",placeholder:"Enter your name",defaultValue:F,onChange(e){_(e.target.value)}}),(0,t.jsx)(f.Z,{fullWidth:!0,label:"Email",placeholder:"Enter your email",defaultValue:G,onChange(e){D(e.target.value)}}),(0,t.jsx)(f.Z,{fullWidth:!0,label:"Phone",placeholder:"Enter your Phone",defaultValue:K,onChange(e){L(e.target.value)}})]})]})})}),(0,t.jsxs)(A.Z,{children:[(0,t.jsx)(j.Z,{onClick:en,children:"Cancel"}),(0,t.jsx)(j.Z,{onClick(e){ed(),en()},children:"Update"})]})]})]})]})}},4657:function(e,l,a){a.r(l);var t=a(5893),n=a(7294),s=a(709),r=a(6083),i=a(1749),o=a(9895),d=a(7265),c=a(5445),h=a(6241),u=a(4436),g=a(8656),x=a(8316),j=a(1890),p=a(5398),m=a(6779),Z=a(5678);a(4213);let v=e=>{let{children:l}=e,[a,v]=(0,n.useState)(!1),[f,C]=(0,n.useState)(!1),[S,b]=(0,n.useState)([]),[k,y]=(0,n.useState)(),[w,E]=(0,n.useState)(),[P,A]=(0,n.useState)(),[O,W]=(0,n.useState)(),[R,I]=(0,n.useState)();(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useRef)(null),(0,n.useEffect)(()=>{N()},[]);let U=()=>{v(!0)},V=()=>{v(!1)},N=async()=>{await g.Z.getAllRole().then(e=>{b(null==e?void 0:e.data)})},T=async e=>{e.preventDefault(),await g.Z.addUser({name:k,email:w,password:P,phone:O,role:R}).then(e=>{window.location.reload(),B(),201===e.status?Z.Am.success(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):Z.Am.error(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})},B=async()=>{let e=localStorage.getItem("accessToken");await g.Z.getAllUser(e).then(e=>{})};return(0,t.jsxs)("div",{children:[(0,t.jsx)(Z.Ix,{}),(0,t.jsx)(s.Z,{variant:"outlined",onClick:U,children:l}),(0,t.jsxs)(j.Z,{open:a,onClose:V,children:[(0,t.jsx)(r.Z,{}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(i.Z,{children:(0,t.jsxs)(o.Z,{style:{padding:20,width:300,margin:"0 auto"},children:[(0,t.jsx)(i.Z,{align:"center",children:(0,t.jsx)(d.Z,{style:{backgroundColor:"#1bbd7e"}})}),(0,t.jsxs)("form",{children:[(0,t.jsxs)(u.Z,{fullWidth:!0,children:[(0,t.jsx)(x.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"Role"}),(0,t.jsx)(c.Z,{defaultValue:"Admin",inputProps:{name:"age",id:"uncontrolled-native"},onChange(e){I(e.target.value)},children:null==S?void 0:S.map(e=>(0,t.jsx)("option",{value:null==e?void 0:e.id,children:null==e?void 0:e.title},null==e?void 0:e.id))})]}),(0,t.jsx)(h.Z,{fullWidth:!0,label:"Name",placeholder:"Enter your name",onChange(e){y(e.target.value)}}),(0,t.jsx)(h.Z,{fullWidth:!0,label:"Email",placeholder:"Enter your email",onChange(e){E(e.target.value)}}),(0,t.jsx)(h.Z,{fullWidth:!0,label:"Phone",placeholder:"Enter your Phone",onChange(e){W(e.target.value)}}),(0,t.jsx)(h.Z,{fullWidth:!0,label:"Password",placeholder:"Enter your password",onChange(e){A(e.target.value)}})]})]})})}),(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(s.Z,{onClick:V,children:"Cancel"}),(0,t.jsx)(s.Z,{onClick(e){T(e),V()},children:"Add"})]})]})]})};l.default=v}}]);