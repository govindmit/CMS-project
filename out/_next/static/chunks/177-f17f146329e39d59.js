"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4177:function(e,l,r){r.r(l);var s=r(5893),t=r(7294),a=r(120),o=r(8661),i=r(5670),n=r(9895),d=r(9944),u=r(1977),h=r(2474),c=r(5059),g=r(5050),x=r(784),p=r(9630),j=r(562),m=r(326),v=r(4731);r(3377);var Z=r(6911);let f=()=>{let[e,l]=(0,t.useState)("1"),[r,f]=(0,t.useState)(),[b,S]=(0,t.useState)();(0,t.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("loginUser")),l=null==e?void 0:e.pic;f(JSON.parse(localStorage.getItem("loginUser"))),S(l)},[]);let y=(e,r)=>{l(r)};return(0,s.jsxs)("div",{children:[(0,s.jsx)(a.Z,{sx:{flexGrow:1},children:(0,s.jsx)(g.Z,{position:"static",children:(0,s.jsxs)(x.Z,{children:[(0,s.jsx)(j.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,s.jsx)(m.Z,{})}),(0,s.jsx)(p.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"News"}),(0,s.jsx)(p.Z,{color:"inherit",children:r?(0,s.jsx)(Z.default,{children:(0,s.jsx)(v.Z,{alt:"Remy Sharp"})}):"Account"})]})})}),(0,s.jsx)(n.Z,{elevation:20,style:{width:400,margin:"20px auto"},children:(0,s.jsx)(a.Z,{sx:{width:"100%",typography:"body1"},children:(0,s.jsxs)(i.ZP,{value:e,children:[(0,s.jsx)(a.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,s.jsxs)(d.Z,{onChange:y,"aria-label":"lab API tabs example",centered:!0,children:[(0,s.jsx)(o.Z,{label:"SignIn",value:"1"}),(0,s.jsx)(o.Z,{label:"SignUp",value:"2"})]})}),(0,s.jsx)(u.Z,{value:"1",children:(0,s.jsx)(h.default,{})}),(0,s.jsx)(u.Z,{value:"2",children:(0,s.jsx)(c.default,{})})]})})})]})};l.default=f},2474:function(e,l,r){r.r(l);var s=r(5893),t=r(7294),a=r(1749),o=r(9895),i=r(7265),n=r(6241),d=r(709),u=r(2318),h=r(9659),c=r(2267),g=r(8656),x=r(1163),p=r(6245),j=r(9704),m=r.n(j),v=r(5678);r(4213);var Z=r(3454);let f=e=>{let{handleChange:l}=e,r=(0,x.useRouter)(),[j,f]=(0,t.useState)(!1),[b,S]=(0,t.useState)(),[y,C]=(0,t.useState)(),w={padding:20,height:"73vh",width:300,margin:"0 auto"},k={margin:"8px 0"},E=async()=>{await g.Z.loginUser({email:b,password:y}).then(e=>{let l=e.data.accessToken,s=(0,p.Z)(l);console.log("response ==",e),200===e.status?(v.Am.success("Login successfully ",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),localStorage.setItem("accessToken",e.data.accessToken),localStorage.setItem("loginUser",JSON.stringify(s.data)),"Admin"===s.data.role.title?r.push("/Dashboard/AdminDashboard/admin"):"Editor"===s.data.role.title?r.push("/Dashboard/EditorDashboard/editor"):"Author"===s.data.role.title?r.push("/Dashboard/AuthorDashboard/Author"):"Subscriber"===s.data.role.title&&r.push("/Dashboard/SubscriberDashboard/Subscribe")):v.Am.error("Login Failed ",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})},A=async()=>{let e={email:b},l=Z.env.SIGNING_KEY||"cms_seceret",r=m().sign({data:e},l,{expiresIn:"1h"});localStorage.setItem("resetAuth",r),await g.Z.forgetPassLink(e).then(e=>{200===e.status&&v.Am.success(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})};return(0,s.jsxs)("div",{children:[(0,s.jsx)(v.Ix,{}),(0,s.jsx)(a.Z,{children:j?(0,s.jsx)(a.Z,{style:{marginTop:"5px"},children:(0,s.jsxs)(o.Z,{style:w,children:[(0,s.jsx)(n.Z,{label:"Email",placeholder:"Enter Email",type:"text",fullWidth:!0,required:!0,onChange:e=>S(e.target.value)}),(0,s.jsx)(d.Z,{type:"submit",color:"primary",variant:"contained",style:k,fullWidth:!0,onClick(){A()},children:"Send"})]})}):(0,s.jsxs)(o.Z,{style:w,children:[(0,s.jsxs)(a.Z,{align:"center",children:[(0,s.jsx)(i.Z,{style:{backgroundColor:"#1bbd7e"},children:(0,s.jsx)(c.Z,{})}),(0,s.jsx)("h2",{children:"Sign In"})]}),(0,s.jsx)(n.Z,{label:"Username",placeholder:"Enter username",fullWidth:!0,required:!0,onChange(e){S(e.target.value)}}),(0,s.jsx)(n.Z,{label:"Password",placeholder:"Enter password",type:"password",fullWidth:!0,required:!0,onChange(e){C(e.target.value)}}),(0,s.jsx)(d.Z,{type:"submit",color:"primary",variant:"contained",style:k,fullWidth:!0,onClick(){E()},children:"Sign in"}),(0,s.jsx)(u.Z,{children:(0,s.jsx)(h.Z,{href:"#",onClick:()=>f(!0),children:"Forgot password ?"})})]})})]})};l.default=f},5059:function(e,l,r){r.r(l);var s=r(5893),t=r(7294),a=r(1749),o=r(9895),i=r(7265),n=r(5445),d=r(6241),u=r(709),h=r(7541),c=r(4436),g=r(8656),x=r(8316),p=r(5678);r(4213);var j=r(1163);let m=()=>{let[e,l]=(0,t.useState)(),[r,m]=(0,t.useState)(),[v,Z]=(0,t.useState)(),[f,b]=(0,t.useState)(),[S,y]=(0,t.useState)(),C=(0,t.useRef)(null),w=(0,t.useRef)(null),k=(0,t.useRef)(null),E=(0,t.useRef)(null);(0,t.useRef)(null);let[A,I]=(0,t.useState)(!1),[O,P]=(0,t.useState)([]),N=(0,j.useRouter)();(0,t.useEffect)(()=>{R()},[]);let R=async()=>{await g.Z.getAllRole().then(e=>{console.log("roles ===",e),P(null==e?void 0:e.data)})},W=async l=>{l.preventDefault(),console.log(S),await g.Z.addUser({name:e,email:r,password:v,phone:f,role:S}).then(e=>{console.log(e),200===e.status?(p.Am.success(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),N.push("/Components/Auth")):p.Am.error(e.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}),C.current.value="",w.current.value="",k.current.value="",E.current.value=""};return(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Ix,{}),(0,s.jsx)(a.Z,{children:(0,s.jsxs)(o.Z,{style:{padding:20,width:300,margin:"0 auto"},children:[(0,s.jsxs)(a.Z,{align:"center",children:[(0,s.jsx)(i.Z,{style:{backgroundColor:"#1bbd7e"},children:(0,s.jsx)(h.Z,{})}),(0,s.jsx)("h2",{style:{margin:0},children:"Sign Up"})]}),(0,s.jsxs)("form",{children:[(0,s.jsxs)(c.Z,{fullWidth:!0,children:[(0,s.jsx)(x.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"Role"}),(0,s.jsx)(n.Z,{defaultValue:1,onChange:e=>y(e.target.value),children:null==O?void 0:O.map((e,l)=>(0,s.jsx)("option",{value:null==e?void 0:e.id,children:null==e?void 0:e.title},null==e?void 0:e.id))})]}),(0,s.jsx)(d.Z,{fullWidth:!0,label:"Name",placeholder:"Enter your name",ref:C,onChange(e){l(e.target.value)}}),(0,s.jsx)(d.Z,{fullWidth:!0,label:"Email",placeholder:"Enter your email",ref:w,onChange(e){m(e.target.value)}}),(0,s.jsx)(d.Z,{fullWidth:!0,label:"Phone",placeholder:"Enter your Phone",ref:E,onChange(e){b(e.target.value)}}),(0,s.jsx)(d.Z,{fullWidth:!0,label:"Password",placeholder:"Enter your password",ref:k,onChange(e){Z(e.target.value)}}),(0,s.jsx)(d.Z,{fullWidth:!0,label:"Confirm Password",placeholder:"Confirm your password"}),(0,s.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",onClick(e){W(e)},children:"Sign up"})]})]})})]})};l.default=m},3377:function(e,l,r){r.r(l);var s=r(5893),t=r(7294),a=r(5050),o=r(120),i=r(784),n=r(9630),d=r(562),u=r(326),h=r(4731),c=r(6911);let g=()=>{let[e,l]=(0,t.useState)(),[r,g]=(0,t.useState)();return(0,t.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("loginUser")),r=null==e?void 0:e.pic;l(JSON.parse(localStorage.getItem("loginUser"))),g(r)},[]),(0,s.jsx)(o.Z,{sx:{flexGrow:1},children:(0,s.jsx)(a.Z,{position:"static",children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(d.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,s.jsx)(u.Z,{})}),(0,s.jsx)(n.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"News"}),(0,s.jsx)(n.Z,{color:"inherit",children:e?(0,s.jsx)(c.default,{children:(0,s.jsx)(h.Z,{alt:"Remy Sharp"})}):"Account"})]})})})};l.default=g}}]);