"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{732:function(e,a,t){t.r(a);var s=t(5893),l=t(7294),o=t(7004);t(5152);var r=t(120),n=t(5050),i=t(784),c=t(5084),u=t(9628),x=t(5343),d=t(8316),h=t(3953),g=t(8656),p=t(5678);t(4213);var f=t(1163);let b=()=>{let e=(0,f.useRouter)(),[a,t]=(0,l.useState)(!1),[b,v]=(0,l.useState)(),[m,j]=(0,l.useState)(),[Z,C]=(0,l.useState)(),[S,k]=(0,l.useState)(),[P,w]=(0,l.useState)(),y=(0,l.useRef)(null),A=async()=>{y.current.editor.exportHtml(e=>{let{design:a,html:t}=e;R(t)})},R=async a=>{let t=await I(P);console.log("===",t);let s=localStorage.getItem("accessToken"),l=JSON.parse(localStorage.getItem("loginUser")),o={name:b,description:m,author:l.id,status:S,slug:t,html:a};await g.Z.createPageApi(o,s).then(a=>{200===a.status&&(p.Am.success(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.push("/Dashboard/AdminDashboard/PageList"))})},_=()=>{},E=()=>{console.log("onReady")},I=async e=>{e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var a="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",t=0,s=a.length;t<s;t++)e=e.replace(RegExp(a.charAt(t),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(t));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")};return(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Ix,{}),(0,s.jsx)(r.Z,{sx:{flexGrow:1},children:(0,s.jsx)(n.Z,{position:"static",style:{backgroundColor:"Silver"},children:(0,s.jsx)(i.Z,{children:(0,s.jsx)(c.Z,{onClick:A,children:"Export Page"})})})}),(0,s.jsxs)(r.Z,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch",marginTop:"25px"}},noValidate:!0,autoComplete:"off",children:[(0,s.jsx)(u.Z,{id:"outlined-basic",label:"name",variant:"outlined",onChange(e){v(e.target.value)}}),(0,s.jsxs)(x.Z,{fullWidth:!0,children:[(0,s.jsx)(d.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"Status"}),(0,s.jsxs)(h.Z,{onChange:e=>k(e.target.value),children:[(0,s.jsx)("option",{value:"Published",children:"Published"}),(0,s.jsx)("option",{value:"UnPublished",children:"UnPublished"})]})]}),(0,s.jsx)(u.Z,{id:"standard-basic",label:"slug",variant:"outlined",onChange(e){w(e.target.value)}})]}),(0,s.jsx)(o.Z,{ref:y,onLoad:_,onReady:E})]})};a.default=b}}]);