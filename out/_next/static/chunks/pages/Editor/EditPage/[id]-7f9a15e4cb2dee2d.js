(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{4319:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Editor/EditPage/[id]",function(){return o(2679)}])},2679:function(e,t,o){"use strict";o.r(t);var n=o(5893),r=o(7294),i=o(1163),a=o(8656),s=o(7004);let c=()=>{let e=(0,r.useRef)(null),[t,o]=(0,r.useState)(),[c,l]=(0,r.useState)(""),u=(0,i.useRouter)(),{id:d}=u.query;(0,r.useEffect)(()=>{p()},[]);let p=async()=>{let e=localStorage.getItem("accessToken");await a.Z.getOnePages(d,e).then(e=>{var t;o(null==e?void 0:e.data),l(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.html)})},f=()=>{},v=()=>{console.log("onReady")};return console.log(t,"---"),console.log("id=====",d),(0,n.jsxs)("div",{children:[" ",(0,n.jsx)(s.Z,{ref:e,onLoad:f,onReady:v})]})};t.default=c},7004:function(e,t,o){"use strict";o.d(t,{Z:function(){return v}});var n=o(7294),r="//editor.unlayer.com/embed.js?2",i=[],a=!1,s=function(){var e=document.querySelectorAll("script"),t=!1;return e.forEach(function(e){e.src.includes(r)&&(t=!0)}),t},c=function(e){i.push(e)},l=function(){if(a)for(var e=void 0;e=i.shift();)e()},u=function(e){if(c(e),s())l();else{var t=document.createElement("script");t.setAttribute("src",r),t.onload=function(){a=!0,l()},document.head.appendChild(t)}},d=JSON.parse('{"u2":"react-email-editor","i8":"1.2.0"}'),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},f=0,v=function(e){function t(o){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,e.call(this,o));return n.loadEditor=function(){var e=n.props.options||{};n.props.projectId&&(e.projectId=n.props.projectId),n.props.tools&&(e.tools=n.props.tools),n.props.appearance&&(e.appearance=n.props.appearance),n.props.locale&&(e.locale=n.props.locale),n.editor=unlayer.createEditor(p({},e,{id:n.editorId,displayMode:"email",source:{name:d.u2,version:d.i8}}));for(var t=Object.entries(n.props),o=Array.isArray(t),r=0,t=o?t:t[Symbol.iterator]();;){if(o){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var i,a=i,s=a[0],c=a[1];/^on/.test(s)&&"onLoad"!=s&&n.addEventListener(s,c)}var l=n.props.onLoad;l&&l()},n.registerCallback=function(e,t){n.editor.registerCallback(e,t)},n.addEventListener=function(e,t){n.editor.addEventListener(e,t)},n.loadDesign=function(e){n.editor.loadDesign(e)},n.saveDesign=function(e){n.editor.saveDesign(e)},n.exportHtml=function(e){n.editor.exportHtml(e)},n.setMergeTags=function(e){n.editor.setMergeTags(e)},n.editorId="editor-"+ ++f,n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u(this.loadEditor)},t.prototype.render=function(){var e=this.props,t=e.minHeight,o=e.style;return n.createElement("div",{style:{flex:1,display:"flex",minHeight:void 0===t?500:t}},n.createElement("div",{id:this.editorId,style:p({},void 0===o?{}:o,{flex:1})}))},t}(n.Component)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4319)}),_N_E=e.O()}]);